<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>–°–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</title>
    <style>
      :root {
        --primary: #2563eb;
        --primary-hover: #1d4ed8;
        --bg: #f8fafc;
        --card-bg: #ffffff;
        --text: #1e293b;
        --muted: #64748b;
        --radius: 12px;
      }

      body {
        font-family: "Segoe UI", Roboto, sans-serif;
        background: var(--bg);
        color: var(--text);
        padding: 40px;
        margin: 0;
      }

      h2 {
        font-size: 24px;
        margin-bottom: 20px;
      }

      h3 {
        margin: 16px 0 12px;
        font-size: 18px;
      }

      .card {
        background: var(--card-bg);
        border-radius: var(--radius);
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
        transition: transform 0.2s ease;
      }

      .service,
      .slot,
      .trainer-option {
        background: var(--card-bg);
        border-radius: var(--radius);
        padding: 15px 20px;
        margin: 10px 0;
        cursor: pointer;
        border: 1px solid #e2e8f0;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
        transition: all 0.2s ease;
      }

      .service:hover,
      .slot:hover,
      .trainer-option:hover {
        transform: translateY(-2px);
        background: #f0f6ff;
        border-color: var(--primary);
      }

      button {
        background: var(--primary);
        color: white;
        border: none;
        border-radius: var(--radius);
        padding: 10px 18px;
        margin-top: 12px;
        font-size: 15px;
        cursor: pointer;
        transition: background 0.2s ease, transform 0.15s ease;
      }

      button:hover {
        background: var(--primary-hover);
        transform: translateY(-1px);
      }

      .modal {
        display: none;
        position: fixed;
        z-index: 100;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.4);
        justify-content: center;
        align-items: center;
        animation: fadeIn 0.3s ease;
      }

      .modal-content {
        background: var(--card-bg);
        border-radius: var(--radius);
        padding: 25px;
        min-width: 340px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        animation: slideUp 0.3s ease;
      }

      input[type="datetime-local"] {
        margin: 12px 0;
        padding: 8px;
        width: 100%;
        border-radius: var(--radius);
        border: 1px solid #cbd5e1;
        font-size: 14px;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes slideUp {
        from {
          transform: translateY(30px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      .muted {
        font-size: 14px;
        color: var(--muted);
      }
    </style>
  </head>
  <body>
    <h2>–ü—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–µ–Ω—Ç–∞: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤</h2>

    <div class="card">
      <h3>–£—Å–ª—É–≥–∏</h3>
      <div
        class="service"
        onclick="openService('10 –º–∏–Ω–∏-–≥—Ä—É–ø–ø–æ–≤—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫')"
      >
        10 –º–∏–Ω–∏-–≥—Ä—É–ø–ø–æ–≤—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ <br />
        <span class="muted">–û—Å—Ç–∞–ª–æ—Å—å: <span id="remaining">10</span></span>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div id="modal" class="modal">
      <div class="modal-content">
        <h3>–°–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h3>
        <div id="step1">
          <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ç—Ä–µ–Ω–µ—Ä–∞:</p>
          <div class="trainer-option" onclick="chooseTrainer('–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞')">
            üë© –ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞
          </div>
          <div class="trainer-option" onclick="chooseTrainer('–°–µ—Ä–≥–µ–π –°–º–∏—Ä–Ω–æ–≤')">
            üë® –°–µ—Ä–≥–µ–π –°–º–∏—Ä–Ω–æ–≤
          </div>
        </div>
        <div id="step2" style="display: none">
          <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–π–º-—Å–ª–æ—Ç –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π:</p>
          <div id="slots"></div>
          <input type="datetime-local" id="newSlot" />
          <button onclick="createSlot()">–°–æ–∑–¥–∞—Ç—å —Å–ª–æ—Ç</button>
        </div>
        <div id="step3" style="display: none">
          <p id="confirmText"></p>
          <button onclick="confirmBooking()">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–ø–∏—Å–∞–Ω–∏–µ</button>
        </div>
        <button
          style="background: #e2e8f0; color: #1e293b"
          onclick="closeModal()"
        >
          –ó–∞–∫—Ä—ã—Ç—å
        </button>
      </div>
    </div>

    <script>
      let selectedService = null;
      let selectedTrainer = null;
      let selectedSlot = null;
      let slotsData = {
        "–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞": [
          { date: "2025-08-20 10:00", clients: 2, limit: 5 },
          { date: "2025-08-21 18:00", clients: 4, limit: 8 },
        ],
        "–°–µ—Ä–≥–µ–π –°–º–∏—Ä–Ω–æ–≤": [{ date: "2025-08-22 12:00", clients: 1, limit: 6 }],
      };

      function openService(serviceName) {
        selectedService = serviceName;
        document.getElementById("modal").style.display = "flex";
        document.getElementById("step1").style.display = "block";
        document.getElementById("step2").style.display = "none";
        document.getElementById("step3").style.display = "none";
      }

      function chooseTrainer(trainer) {
        selectedTrainer = trainer;
        let slotsContainer = document.getElementById("slots");
        slotsContainer.innerHTML = "";
        slotsData[trainer].forEach((slot) => {
          if (slot.clients < slot.limit) {
            let div = document.createElement("div");
            div.className = "slot";
            div.innerHTML = `üìÖ ${slot.date} <br>
            <span class="muted">–ó–∞–ø–∏—Å–∞–Ω–æ: ${slot.clients}/${slot.limit}</span>`;
            div.onclick = () => selectSlot(slot);
            slotsContainer.appendChild(div);
          }
        });
        document.getElementById("step1").style.display = "none";
        document.getElementById("step2").style.display = "block";
      }

      function selectSlot(slot) {
        selectedSlot = slot;
        document.getElementById(
          "confirmText"
        ).innerText = `–ö–ª–∏–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω –∫ —Ç—Ä–µ–Ω–µ—Ä—É ${selectedTrainer} –Ω–∞ ${slot.date}`;
        document.getElementById("step2").style.display = "none";
        document.getElementById("step3").style.display = "block";
      }

      function createSlot() {
        let newSlotValue = document.getElementById("newSlot").value;
        if (!newSlotValue) return alert("–£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è");
        selectedSlot = { date: newSlotValue, clients: 0, limit: 8 };
        document.getElementById(
          "confirmText"
        ).innerText = `–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Å–ª–æ—Ç. –ö–ª–∏–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω –∫ ${selectedTrainer} –Ω–∞ ${newSlotValue}`;
        document.getElementById("step2").style.display = "none";
        document.getElementById("step3").style.display = "block";
      }

      function confirmBooking() {
        let remaining = document.getElementById("remaining");
        let newValue = parseInt(remaining.innerText) - 1;
        remaining.innerText = newValue;
        alert("‚úÖ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–ø–∏—Å–∞–Ω–∞ –∏ –∫–ª–∏–µ–Ω—Ç –∑–∞–ø–∏—Å–∞–Ω –≤ —Å–ª–æ—Ç!");
        closeModal();
      }

      function closeModal() {
        document.getElementById("modal").style.display = "none";
      }
    </script>
  </body>
</html>
